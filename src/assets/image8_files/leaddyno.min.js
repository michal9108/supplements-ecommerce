var LeadDyno=LeadDyno||function(){function _initJQuery(){if(window.jQuery===undefined||window.jQuery.fn.jquery!==_ld_jquery_verion){var e=document.createElement("script");e.setAttribute("type","text/javascript"),e.setAttribute("src","//ajax.googleapis.com/ajax/libs/jquery/"+_ld_jquery_verion+"/jquery.min.js"),e.readyState?e.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||scriptLoadHandler()}:e.onload=scriptLoadHandler,(document.getElementsByTagName("head")[0]||document.documentElement).appendChild(e)}else $=window.jQuery,main()}function scriptLoadHandler(){$=window.jQuery.noConflict(!0),main()}function main(){$(document).ready(function(){LeadDyno&&documentReadyHandler()})}function documentReadyHandler(){if(!_ld_ready){for(_ld_ready=!0,setCookie(COOKIE_TRACKING_ID,_tracking_id),$(".leaddyno_visit_id").val(_tracking_id),$(".leaddyno_key").val(LeadDyno.key),$("a").each(function(){var e=$(this).attr("href");e&&"string"==typeof e&&(0<e.indexOf("{{leaddyno.visit.id}}")&&(e=e.replace(/\{\{leaddyno\.visit\.id\}\}/gi,_tracking_id),$(this).attr("href",e)),0<e.indexOf("{{leaddyno.key}}")&&(e=e.replace(/\{\{leaddyno\.key\}\}/gi,LeadDyno.key),$(this).attr("href",e)))}),i=0;i<_readyHandlers.length;i++)_readyHandlers[i]();initShareWidgets()}}function onReady(e){_ld_ready?e():_readyHandlers.push(e)}function isEmail(e){return/\S+@\S+\.\S+/.test(e)}function _init(){if(_ld_iframe_mode)try{window.addEventListener?window.addEventListener("message",function(e){e.data&&"ld_send_tracking_id"==e.data.type&&(_tracking_id=e.data.tracking_id,setCookie(COOKIE_TRACKING_ID,e.data.tracking_id),_initJQuery())}):elem.attachEvent&&window.attachEvent("onmessage",function(e){e.data&&"ld_send_tracking_id"==e.data.type&&(_tracking_id=e.data.tracking_id,setCookie(COOKIE_TRACKING_ID,e.data.tracking_id),_initJQuery())}),window.top.postMessage({type:"ld_get_tracking_id"},"*")}catch(t){log("Could not establish iframe message handler! "+t)}else{var e=getCookie(COOKIE_TRACKING_ID);e?_tracking_id=e:_tracking_id||(_tracking_id=generateUUID(),setCookie(COOKIE_TRACKING_ID,_tracking_id));try{window.addEventListener?window.addEventListener("message",function(e){"ld_get_tracking_id"==e.data.type&&e.source.postMessage({type:"ld_send_tracking_id",tracking_id:_tracking_id},"*")}):elem.attachEvent&&window.attachEvent("onmessage",function(e){"ld_get_tracking_id"==e.data.type&&e.source.postMessage({type:"ld_send_tracking_id",tracking_id:_tracking_id},"*")})}catch(t){log("Could not establish enclosing window message handler! "+t)}}/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(_is_mobile=!0),_fingerprint=(new _fingerprintObj.Fingerprint).get(),!_is_mobile&&_fingerprint&&2147483647!=_fingerprint||(_fingerprint="")}function initShareWidgets(){var e=function(e){return e?encode(e):""},t="&origin_url="+e(document.URL);t+="&key="+e(LeadDyno.key),t+="&channel="+e(LeadDyno.channel),t+="&title="+e(document.title),t+="&description="+e($("meta[name=description], meta[property=description]").attr("content")),t+="&visitor_id="+e(_tracking_id),t+="&og_title="+e($('meta[name="og:title"], meta[property="og:title"]').attr("content")),t+="&og_description="+e($('meta[name="og:description"], meta[property="og:description"]').attr("content")),t+="&og_image="+e($('meta[name="og:image"], meta[property="og:image"]').attr("content")),t+="&og_url="+e($('meta[name="og:url"], meta[property="og:url"]').attr("content")),t+="&ld_mail="+e($('meta[name="ld:mail"], meta[property="ld:mail"]').attr("content")),t+="&ld_mail_subject="+e($('meta[name="ld:mail:subject"], meta[property="ld:mail:subject"]').attr("content")),t+="&ld_twitter="+e($('meta[name="ld:tweet"], meta[property="ld:tweet"]').attr("content")),t+="&ld_facebook="+e($('meta[name="ld:facebook"], meta[property="ld:facebook"]').attr("content")),t+="&ld_facebook_title="+e($('meta[name="ld:facebook:title"], meta[property="ld:facebook:title"]').attr("content")),t+="&ld_pinterest="+e($('meta[name="ld:pinterest"], meta[property="ld:pinterest"]').attr("content")),t+="&ld_pinterest_img="+e($('meta[name="ld:pinterest:img"], meta[property="ld:pinterest:img"]').attr("content")),$(".ld-share-link").each(function(){$(this).attr("href",$(this).attr("href")+t)})}function log(e){if(_logger){var t="LeadDyno Log ["+new Date+"] - "+e;_logger(t)}}function encode(e){return window.encodeURIComponent?null!==e&&"object"==typeof e&&0<e.length?encodeURIComponent(JSON.stringify(e)):encodeURIComponent(e):escape(e)}function decode(e){return window.decodeURIComponent()?decodeURIComponent(e):unescape(e)}function processCookieName(e){return _ld_cookie_prefix?_ld_cookie_prefix+"_"+e:e}function getCookie(e){log("Getting Cookie "+(e=processCookieName(e)));var t,n,o,i=document.cookie.split(";");for(t=0;t<i.length;t++)if(n=i[t].substr(0,i[t].indexOf("=")),o=i[t].substr(i[t].indexOf("=")+1),(n=n.replace(/^\s+|\s+$/g,""))==e)return decode(o);return""}function deleteCookie(e){log("Deleting Cookie "+(e=processCookieName(e))),_proxy&&_proxy.deleteCookie?_proxy.deleteCookie(e):document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT;path=/"}function setCookie(e,t,n){n=void 0!==n?n:31536e5,n*=1e3,log("Setting cookie  "+(e=processCookieName(e))+" to value "+t);var o=new Date;o.setTime(o.getTime()+n);var i=e+"="+encode(t)+";expires="+o.toUTCString()+";path=/";LeadDyno&&LeadDyno.domain&&(i+=";domain=."+LeadDyno.domain),document.cookie=i}function remote(e,t,n){if(log("Invoking remote "+e+" with args "+jsonEncode(t)),getCookie(COOKIE_TRACKING_ID)){var o="__LDCB_"+(new Date).getTime()+"_"+Math.floor(1e6*Math.random());log("creating callback "+o),window[o]=function(e){log("In callback "+o),n&&n(e),t.onFinish&&t.onFinish(e)};var i="url="+encode(getCookie(COOKIE_URL));for(var r in i+="&referrer="+encode(getCookie(COOKIE_REFERRER)),i+="&agent="+encode(navigator.userAgent),i+="&js=true",i+="&ld_t="+encode(getCookie(COOKIE_TRACKING_ID)),i+="&ld_ext="+encode(getCookie(COOKIE_EXT_ID)),i+="&ld_fp="+encode(_fingerprint),i+="&channel="+encode(t.channel||LeadDyno.channel||""),i+="&purchase_code="+encode(t.purchase_code||""),i+="&key="+(t.key||LeadDyno.key||""),i+="&callback="+o,t)"onFinish"!=r&&"key"!=r&&(i+="&"+r+"="+encode(t[r]));if(_proxy&&_proxy.ajax){var a=_proxy.ajax(_url+e+"?"+i);a!=undefined&&1!=a||window[o]()}else{var c=document.createElement("script");c.type="text/javascript",c.async="async",c.src=_url+e+"?"+i,log("Calling remote action "+c.src),document.getElementsByTagName("head")[0]?document.getElementsByTagName("head")[0].appendChild(c):document.getElementsByTagName("body")[0].appendChild(c)}}else log("Tracking cookie is missing!")}function saveInfo(){(""==getCookie(COOKIE_URL)||isAffiliateLink())&&(setCookie(COOKIE_URL,getCurrentUrl()),setCookie(COOKIE_REFERRER,getCurrentReferrer())),""==getCookie(COOKIE_REFERRER)&&setCookie(COOKIE_REFERRER,getCurrentReferrer()),setCookie(COOKIE_TRACKING_ID,_tracking_id)}function cleanUpHash(){0!=window.location.hash.indexOf("#_a_")&&0!=window.location.hash.indexOf("#_l_")||(0<window.location.hash.indexOf("__")?window.location.hash=window.location.hash.substring(window.location.hash.indexOf("__")+2,window.location.hash.length):window.location.hash="")}function getCurrentUrl(){return _proxy&&_proxy.url?_proxy.url:window.location.href}function getCurrentReferrer(){return _proxy&&_proxy.referrer?_proxy.referrer:document.referrer}function getQueryParam(e,t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n=e.substr(e.indexOf("?")),o=n.indexOf("#");-1<o&&(n=n.substr(0,o));var i=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(n);return null==i?null:decodeURIComponent(i[1].replace(/\+/g," "))}function isNewVisit(){var e=getCookie(COOKIE_STATE);if("click"==e)return setCookie(COOKIE_STATE,new Date,300),!0;if(""!=e)return!1;var t=new Date;return setCookie(COOKIE_STATE,t.getTime(),300),!0}function getHashTrackingCode(e){if(0<=e.indexOf("#_a_")||0<=e.indexOf("#_l_")){var t=e.substring(e.indexOf("#_")+2,e.length);return 0<=t.indexOf("__")?t.substring(0,t.indexOf("__")):t}return null}function isAffiliateLink(){return null!=(getHashTrackingCode(getCurrentUrl())||getQueryParam(getCurrentUrl(),"afmc"))}function generateUUID(){var n=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=(n+16*Math.random())%16|0;return n=Math.floor(n/16),("x"==e?t:7&t|8).toString(16)})}function uploadLead(e){remote("lead",e,function(){deleteCookie(COOKIE_LEAD_DATA),setTimeout(function(){LeadDyno.updateGAInfo(e)},300)})}function uploadHash(e){remote("hash",e,function(){deleteCookie(COOKIE_HASH_DATA),setTimeout(function(){LeadDyno.updateGAInfo(e)},300)})}function uploadPurchase(e){remote("purchase",e,function(){deleteCookie(COOKIE_PURCHASE_DATA)})}function uploadCancellation(e){remote("cancel",e,function(){deleteCookie(COOKIE_CANCEL_DATA)})}function uploadClick(e){(e=void 0!==e?e:{}).page_url=getCurrentUrl(),e.page_referrer=getCurrentReferrer(),remote("clickstream",e)}function uploadEvent(e){(e=void 0!==e?e:{}).page_url=getCurrentUrl(),e.page_referrer=getCurrentReferrer(),remote("event",e)}function uploadCachedData(){var e=getCookie(COOKIE_LEAD_DATA);e&&uploadLead(jsonDecode(e));var t=getCookie(COOKIE_HASH_DATA);t&&uploadHash(jsonDecode(t));var n=getCookie(COOKIE_PURCHASE_DATA);n&&uploadPurchase(jsonDecode(n));var o=getCookie(COOKIE_CANCEL_DATA);o&&uploadCancellation(jsonDecode(o))}function cleanupArgs(e,t){return e=void 0!==(e="function"==typeof e?{onFinish:e}:e)?e:{},t&&(e.onFinish=t),e.key&&(LeadDyno.key=e.key),e.channel&&(LeadDyno.channel=e.channel),e}function drawTagImgOld(){log("drawing tag img");var e=document.createElement("img"),t=new Date,n=_url+"t?key="+encode(LeadDyno.key);n+="&ld_fp="+encode(_fingerprint),n+="&ld_t="+encode(_tracking_id),n+="&ts="+t.getTime(),e.setAttribute("src",n),e.width="1",e.height="1",document.body.appendChild(e)}function drawTagScript(){log("drawing tag script");var e=new Date,t=_url+"x?key="+encode(LeadDyno.key);t+="&ld_fp="+encode(_fingerprint),t+="&ld_t="+encode(_tracking_id),t+="&ts="+e.getTime();var n=document.createElement("script");n.type="text/javascript",n.async="async",n.src=t,document.getElementsByTagName("head")[0]?document.getElementsByTagName("head")[0].appendChild(n):document.getElementsByTagName("body")[0].appendChild(n)}function associateShopifyCartIdAndReset(){var e=getCookie(COOKIE_EXT_ID),t=getCookie("cart");t&&e!=t&&(setCookie(COOKIE_EXT_ID,t),deleteCookie(COOKIE_STATE))}var _logger=null,_tracking_id=null,_etag=null,_fingerprintObj={},_fingerprint=null,_is_mobile=!1,_proxy=null,_url="https://collector.leaddyno.com/",COOKIE_URL="LD_U",COOKIE_REFERRER="LD_R",COOKIE_TRACKING_ID="LD_T",COOKIE_LEAD_DATA="LD_L",COOKIE_HASH_DATA="LD_H",COOKIE_PURCHASE_DATA="LD_P",COOKIE_CANCEL_DATA="LD_X",COOKIE_EXT_ID="LD_EXT",COOKIE_STATE="LD_S",COOKIE_GOOGLE="LD_G",COOKIE_ETAG_ID="LD_E",$,_ld_ready=!1,_readyHandlers=[],_ld_iframe_mode=1==window.lead_dyno_iframe_mode,_ld_cookie_prefix=window.lead_dyno_cookie_prefix||"",_ld_jquery_verion=window.lead_dyno_jquery_version||"1.12.4";!function(n,e){"use strict";var t=function(e){var a=Array.prototype.forEach,t=Array.prototype.map;this.each=function(e,t,n){if(null!==e)if(a&&e.forEach===a)e.forEach(t,n);else if(e.length===+e.length){for(var o=0,i=e.length;o<i;o++)if(t.call(n,e[o],o,e)==={})return}else for(var r in e)if(e.hasOwnProperty(r)&&t.call(n,e[r],r,e)==={})return},this.map=function(e,o,i){var r=[];return null==e?r:t&&e.map===t?e.map(o,i):(this.each(e,function(e,t,n){r[r.length]=o.call(i,e,t,n)}),r)},e&&(this.hasher=e)};t.prototype={get:function(){var e=[];e.push(navigator.userAgent),e.push(navigator.language),e.push(screen.colorDepth),e.push((new Date).getTimezoneOffset()),e.push(!!n.sessionStorage),e.push(this.hasLocalStorage());var t=this.map(navigator.plugins,function(e){var t=this.map(e,function(e){return[e.type,e.suffixes].join("~")}).join(",");return[e.name,e.description,t].join("::")},this).join(";");return e.push(t),this.hasher?this.hasher(e.join("###"),31):this.murmurhash3_32_gc(e.join("###"),31)},murmurhash3_32_gc:function(e,t){var n,o,i,r,a,c,d,l;for(n=3&e.length,o=e.length-n,i=t,a=3432918353,c=461845907,l=0;l<o;)d=255&e.charCodeAt(l)|(255&e.charCodeAt(++l))<<8|(255&e.charCodeAt(++l))<<16|(255&e.charCodeAt(++l))<<24,++l,i=27492+(65535&(r=4294967295&5*(65535&(i=(i^=d=4294967295&(65535&(d=(d=4294967295&(65535&d)*a+((65535&(d>>>16)*a)<<16))<<15|d>>>17))*c+((65535&(d>>>16)*c)<<16))<<13|i>>>19))+((65535&5*(i>>>16))<<16)))+((65535&58964+(r>>>16))<<16);switch(d=0,n){case 3:d^=(255&e.charCodeAt(l+2))<<16;case 2:d^=(255&e.charCodeAt(l+1))<<8;case 1:i^=d=4294967295&(65535&(d=(d=4294967295&(65535&(d^=255&e.charCodeAt(l)))*a+((65535&(d>>>16)*a)<<16))<<15|d>>>17))*c+((65535&(d>>>16)*c)<<16)}return i^=e.length,i=4294967295&2246822507*(65535&(i^=i>>>16))+((65535&2246822507*(i>>>16))<<16),i=4294967295&3266489909*(65535&(i^=i>>>13))+((65535&3266489909*(i>>>16))<<16),(i^=i>>>16)>>>0},hasLocalStorage:function(){try{return!!n.localStorage}catch(t){return!0}}},e.Fingerprint=t}(window,_fingerprintObj);var hasher={};hasher.hash=function(){function _(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function a(e,t){return e<<t|e>>>32-t}function c(e,t,n,o,i,r){return _(a(_(_(t,e),_(o,r)),i),n)}function s(e,t,n,o,i,r,a){return c(t&n|~t&o,e,t,i,r,a)}function f(e,t,n,o,i,r,a){return c(t&o|n&~o,e,t,i,r,a)}function g(e,t,n,o,i,r,a){return c(t^n^o,e,t,i,r,a)}function p(e,t,n,o,i,r,a){return c(n^(t|~o),e,t,i,r,a)}function t(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var n,o,i,r,a,c=1732584193,d=-271733879,l=-1732584194,u=271733878;for(n=0;n<e.length;n+=16)d=p(d=p(d=p(d=p(d=g(d=g(d=g(d=g(d=f(d=f(d=f(d=f(d=s(d=s(d=s(d=s(i=d,l=s(r=l,u=s(a=u,c=s(o=c,d,l,u,e[n],7,-680876936),d,l,e[n+1],12,-389564586),c,d,e[n+2],17,606105819),u,c,e[n+3],22,-1044525330),l=s(l,u=s(u,c=s(c,d,l,u,e[n+4],7,-176418897),d,l,e[n+5],12,1200080426),c,d,e[n+6],17,-1473231341),u,c,e[n+7],22,-45705983),l=s(l,u=s(u,c=s(c,d,l,u,e[n+8],7,1770035416),d,l,e[n+9],12,-1958414417),c,d,e[n+10],17,-42063),u,c,e[n+11],22,-1990404162),l=s(l,u=s(u,c=s(c,d,l,u,e[n+12],7,1804603682),d,l,e[n+13],12,-40341101),c,d,e[n+14],17,-1502002290),u,c,e[n+15],22,1236535329),l=f(l,u=f(u,c=f(c,d,l,u,e[n+1],5,-165796510),d,l,e[n+6],9,-1069501632),c,d,e[n+11],14,643717713),u,c,e[n],20,-373897302),l=f(l,u=f(u,c=f(c,d,l,u,e[n+5],5,-701558691),d,l,e[n+10],9,38016083),c,d,e[n+15],14,-660478335),u,c,e[n+4],20,-405537848),l=f(l,u=f(u,c=f(c,d,l,u,e[n+9],5,568446438),d,l,e[n+14],9,-1019803690),c,d,e[n+3],14,-187363961),u,c,e[n+8],20,1163531501),l=f(l,u=f(u,c=f(c,d,l,u,e[n+13],5,-1444681467),d,l,e[n+2],9,-51403784),c,d,e[n+7],14,1735328473),u,c,e[n+12],20,-1926607734),l=g(l,u=g(u,c=g(c,d,l,u,e[n+5],4,-378558),d,l,e[n+8],11,-2022574463),c,d,e[n+11],16,1839030562),u,c,e[n+14],23,-35309556),l=g(l,u=g(u,c=g(c,d,l,u,e[n+1],4,-1530992060),d,l,e[n+4],11,1272893353),c,d,e[n+7],16,-155497632),u,c,e[n+10],23,-1094730640),l=g(l,u=g(u,c=g(c,d,l,u,e[n+13],4,681279174),d,l,e[n],11,-358537222),c,d,e[n+3],16,-722521979),u,c,e[n+6],23,76029189),l=g(l,u=g(u,c=g(c,d,l,u,e[n+9],4,-640364487),d,l,e[n+12],11,-421815835),c,d,e[n+15],16,530742520),u,c,e[n+2],23,-995338651),l=p(l,u=p(u,c=p(c,d,l,u,e[n],6,-198630844),d,l,e[n+7],10,1126891415),c,d,e[n+14],15,-1416354905),u,c,e[n+5],21,-57434055),l=p(l,u=p(u,c=p(c,d,l,u,e[n+12],6,1700485571),d,l,e[n+3],10,-1894986606),c,d,e[n+10],15,-1051523),u,c,e[n+1],21,-2054922799),l=p(l,u=p(u,c=p(c,d,l,u,e[n+8],6,1873313359),d,l,e[n+15],10,-30611744),c,d,e[n+6],15,-1560198380),u,c,e[n+13],21,1309151649),l=p(l,u=p(u,c=p(c,d,l,u,e[n+4],6,-145523070),d,l,e[n+11],10,-1120210379),c,d,e[n+2],15,718787259),u,c,e[n+9],21,-343485551),c=_(c,o),d=_(d,i),l=_(l,r),u=_(u,a);return[c,d,l,u]}function n(e){var t,n="",o=32*e.length;for(t=0;t<o;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function o(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;var o=8*e.length;for(t=0;t<o;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function i(e){return n(t(o(e),8*e.length))}function r(e){var t,n,o="0123456789abcdef",i="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),i+=o.charAt(t>>>4&15)+o.charAt(15&t);return i}function d(e){return unescape(encodeURIComponent(e))}function l(e){return i(d(e))}function e(e){return r(l(e))}return e}(),_init(),_ld_iframe_mode||_initJQuery();var jsonEncode="object"==typeof JSON&&JSON.stringify?JSON.stringify:function(e){var t=typeof e;if("object"!=t||null===e)return"string"==t&&(e=quoteString(e)),String(e);var n,o,i=[],r=e&&e.constructor==Array;for(n in e)t=typeof(o=e[n]),e.hasOwnProperty(n)&&("string"==t?o=quoteString(o):"object"==t&&null!==o&&(o=jsonEncode(o)),i.push((r?"":quoteString(n+":"))+String(o)));return(r?"[":"{")+String(i)+(r?"]":"}")},jsonDecode="object"==typeof JSON&&JSON.parse?JSON.parse:function(str){return eval("("+str+")")},escape=/["\\\x00-\x1f\x7f-\x9f]/g,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},quoteString=function(e){return e.match(escape)?'"'+e.replace(escape,function(e){var t=meta[e];return"string"==typeof t?t:(t=e.charCodeAt(),"\\u00"+Math.floor(t/16).toString(16)+(t%16).toString(16))})+'"':'"'+e+'"'};return{recordVisit:function(e,t,n){_ld_iframe_mode||(log("called recordVisit()"),e=cleanupArgs(e,t),window.lead_dyno_affiliate_code&&(e.code=window.lead_dyno_affiliate_code),window.lead_dyno_affiliate_email&&(e.affiliate=window.lead_dyno_affiliate_email),uploadCachedData(),isNewVisit()||isAffiliateLink()||n?(saveInfo(),remote("visit",e,function(){}),drawTagScript()):e.onFinish&&e.onFinish({success:!0,local:!0}),cleanUpHash(),uploadClick())},recordLead:function(e,t,n){log("called recordLead()"),(t=cleanupArgs(t,n)).email=e,saveInfo(),setCookie(COOKIE_LEAD_DATA,jsonEncode(t)),uploadLead(t)},recordHash:function(e,t,n){log("called recordHash()"),t=cleanupArgs(t,n),LeadDyno.active&&(t.double_check=LeadDyno.key+"-"+e),t.val=hasher.hash(LeadDyno.key+"-"+e),saveInfo(),setCookie(COOKIE_HASH_DATA,jsonEncode(t)),uploadHash(t)},recordPurchase:function(e,t,n){log("called recordPurchase()"),"string"==typeof e?(t=cleanupArgs(t,n)).email=e:t=cleanupArgs(e,t),t.purchase_code=t.purchase_code||_tracking_id,saveInfo(),setCookie(COOKIE_PURCHASE_DATA,jsonEncode(t)),uploadPurchase(t)},recordCancellation:function(e,t,n){log("called recordCancellation()"),"string"==typeof e?(t=cleanupArgs(t,n)).email=e:t=cleanupArgs(e,t),t.purchase_code=t.purchase_code||_tracking_id,saveInfo(),setCookie(COOKIE_CANCEL_DATA,jsonEncode(t)),uploadCancellation(t)},recordExternalTrackingId:function(e){setCookie(COOKIE_EXT_ID,e),deleteCookie(COOKIE_STATE),LeadDyno.recordVisit()},recordEvent:function(e,t,n){t=cleanupArgs(t,n);var o={};for(var i in t)"onFinish"!=i&&(o["data_"+i]=t[i]);o.event=e,t.onFinish&&(o.onFinish=t.onFinish),uploadEvent(o)},setETag:function(e){setCookie(COOKIE_ETAG_ID,_etag=e)},finish:function(){log("called finish()")},updateGAInfo:function(e){""!=getCookie("__utmz")&&""==getCookie(COOKIE_GOOGLE)&&((e=e||{}).__utmz=getCookie("__utmz"),e.__utma=getCookie("__utma"),remote("ga",e,function(){setCookie(COOKIE_GOOGLE,"1")}))},initPaypal:function(){onReady(function(){$("form").each(function(e,t){t.action&&"string"==typeof t.action&&0<t.action.indexOf("paypal.com")&&0<t.action.indexOf("/cgi-bin/webscr")&&($(t).append('<input type="hidden" name="custom" value="'+_tracking_id+'"/>'),$(t).append('<input type="hidden" name="notify_url" value="'+_url+"paypal_ipn?key="+LeadDyno.key+'"/>'))}),$("a").each(function(){var e=$(this).attr("href");e&&"string"==typeof e&&0<e.indexOf("paypal.com")&&0<e.indexOf("/cgi-bin/webscr")&&(e=e+"&custom="+_tracking_id+"&notify_url="+encode(_url+"paypal_ipn?key="+LeadDyno.key),$(this).attr("href",e))})})},initChargebee:function(){onReady(function(){$("form").each(function(e,t){t.action&&"string"==typeof t.action&&0<t.action.indexOf("chargebee.com")&&$(t).append('<input type="hidden" name="affiliate_token" value="'+_tracking_id+'"/>')}),$("a").each(function(){var e=$(this).attr("href");if(e&&"string"==typeof e&&0<e.indexOf("chargebee.com")){var t=0<e.indexOf("?")?"&":"?";e=e+t+"affiliate_token="+_tracking_id,$(this).attr("href",e)}})})},initCoinbase:function(){onReady(function(){$(".coinbase-button").each(function(){$(this).attr("data-custom",_tracking_id)}),$("iframe").each(function(){var e=$(this).attr("src");e&&"string"==typeof e&&0<e.indexOf("coinbase.com/buttons")&&(e=e+"&custom="+_tracking_id,$(this).attr("src",e)),e&&"string"==typeof e&&0<e.indexOf("coinbase.com/inline_payments")&&(e=e+"&c="+_tracking_id,$(this).attr("src",e))}),$("a").each(function(){var e=$(this).attr("href");e&&"string"==typeof e&&0<e.indexOf("coinbase.com/checkouts")&&(e=e+"?c="+_tracking_id,$(this).attr("href",e))})})},initShopify:function(){associateShopifyCartIdAndReset(),"undefined"!=typeof Shopify&&"undefined"!=typeof Shopify.checkout&&LeadDyno.recordVisit({email:Shopify.checkout.email,purchase_code:Shopify.checkout.order_id},null,!0);var e=getCookie("cart");if(null==e||""==e)var t=setInterval(function(){null!=(e=getCookie("cart"))&&""!=e&&(associateShopifyCartIdAndReset(),LeadDyno.recordVisit(),clearInterval(t))},500);$&&!_ld_ready&&documentReadyHandler()},initWix:function(){window.wixDevelopersAnalytics.register("76d77afc-0aa3-4b28-9ec1-2338fc9d22bf",function o(e,t){if("Purchase"==e){var n=t.orderId;remote("wix_purchase",{orderId:n},function(){}),getCookie(COOKIE_EXT_ID)!=n&&(setCookie(COOKIE_EXT_ID,n),deleteCookie(COOKIE_STATE)),LeadDyno.recordVisit()}})},initEcwid:function(){window.Ecwid&&Ecwid.OnOrderPlaced&&Ecwid.OnOrderPlaced.add(function(e){var t=getCookie(COOKIE_EXT_ID),n=e.orderNumber;n&&t!=n&&(setCookie(COOKIE_EXT_ID,n),deleteCookie(COOKIE_STATE)),LeadDyno.recordVisit()})},autoWatch:function(i){onReady(function(){remote("/elc",{}),$("form").on("submit",function(){try{var e=$(this),t=e.find("input[id*=first_name]").val()||"",n=e.find("input[id*=last_name]").val()||"";e.find("input[type=text], input[type=email]").each(function(){var e=$(this).val();isEmail(e)&&LeadDyno.recordLead(e,{p:"true",first_name:t,last_name:n},i)})}catch(o){console.log(o)}})})},watch:function(e,t){onReady(function(){$(document).on("change",e,function(){var e=$(this).val();isEmail(e)&&LeadDyno.recordLead(e,{},t)})})},hash:function(e,t){onReady(function(){$(document).on("change",e,function(){var e=$(this).val();/\S+@\S+\.\S+/.test(e)&&(e=e.toLowerCase(),setTimeout(function(){LeadDyno.recordHash(e,{check:LeadDyno.active?e:""},t)},500*Math.random()))})})},ready:function(e){onReady(e)},isReady:function(){return _ld_ready},noop:function(){},devTools:{reset:function(){deleteCookie(COOKIE_URL),deleteCookie(COOKIE_REFERRER),deleteCookie(COOKIE_TRACKING_ID),deleteCookie(COOKIE_EXT_ID),deleteCookie(COOKIE_LEAD_DATA),deleteCookie(COOKIE_PURCHASE_DATA),deleteCookie(COOKIE_CANCEL_DATA),deleteCookie(COOKIE_STATE),deleteCookie(COOKIE_GOOGLE),_tracking_id=null,_init()},ping:function(){},uuid:function(){return generateUUID()},setLogger:function(e){_logger=e},getState:function(){return{COOKIE_URL:getCookie(COOKIE_URL),COOKIE_REFERRER:getCookie(COOKIE_REFERRER),COOKIE_TRACKING_ID:getCookie(COOKIE_TRACKING_ID),COOKIE_LEAD_DATA:getCookie(COOKIE_LEAD_DATA),COOKIE_PURCHASE_DATA:getCookie(COOKIE_PURCHASE_DATA),COOKIE_CANCEL_DATA:getCookie(COOKIE_CANCEL_DATA),COOKIE_STATE:getCookie(COOKIE_STATE),COOKIE_GOOGLE:getCookie(COOKIE_GOOGLE)}},setBrowserProxy:function(e){_proxy=e},setServerUrl:function(e){"/"!=(_url=e).charAt(_url.length-1)&&(_url+="/")},getTrackingId:function(){return _tracking_id},getFingerprint:function(){return _fingerprint},getJQuery:function(){return $},getAffiliateCode:function(){return getHashTrackingCode(getCookie(COOKIE_URL))},isMobile:function(){return _is_mobile},parseTrackingCode:function(e){return getHashTrackingCode(e)},cleanUpHash:function(){cleanUpHash()},forceNewVisit:function(){deleteCookie(COOKIE_STATE)},getQueryParam:getQueryParam,log:log,jsonEncode:jsonEncode,jsonDecode:jsonDecode,hash:hasher.hash},click:function(e){log("called click()"),this.recordVisit(e)},register:function(e){log("called register()"),e=void 0!==e?e:{},this.recordLead(e.email,e)},capture:function(e,t){log("called capture()"),this.recordLead(e,t)},visit:function(e){log("Called visit"),e=void 0!==e?e:{},this.recordVisit(e),e.email&&this.recordLead(e.email,e)}}}();